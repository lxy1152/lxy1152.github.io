---
title: 👓 IP 地址
---

## 什么是 IP 地址？

IP 地址（Internet Protocol Address）是指互联网协议地址，是 IP 协议提供的一种统一的地址格式，它为互联网上的每一个网络和每一台主机分配一个逻辑地址，以此来屏蔽物理地址的差异。

对于 IPv4（Internet Protocol version 4），它的地址由 32 位二进制数来表示。为了方便人的记忆，将 32 位的 IP 地址以每 8 位为一组进行划分，共可分为 4 组，每组以符号 `.` 分隔，再将每组转换成十进制。这种表示方式也称为“点分十进制”。

对于 IPv6（Internet Protocol version 6），它的地址由 128 位二进制数来表示。每 16 位为一组，共可分为 8 组，使用符号 `:` 分隔，再将每组转换成十六进制。如：`2000:0:0:0:1:2345:6789:abcd`。

## 介绍一下 A 类 IP 地址？

:::center
![aip.png](https://i.loli.net/2021/08/01/lAzgYH8JaUq43LG.png)
:::

A 类 IP 地址第一位必须是 0，剩下的 31 位中有 7 位用于网络号，24 位用于主机号，一般用于政府机构。

可分配的网络个数为：$2^7-1=126$个（网络号全为 1，即 `127.x.x.x` 的地址是保留地址，不能使用）。

可分配的主机个数为：$2^{24}-2=16777214$（主机号全 0 表示本网络，主机号全 1 表示广播地址，这两个地址需要忽略，下同）。

A 类 IP 地址的主机范围为：`1.0.0.0~127.255.255.255`。

## 介绍一下 B 类 IP 地址？

:::center
![bip.png](https://i.loli.net/2021/08/01/tmcSDefnCBkuPLJ.png)
:::

B 类 IP 地址的第一二位必须是 1 和 0，剩下的 30 位中有 14 位用于网络号，有 16 位用于主机号，一般用于大中型企业。

可分配的网络个数：$2^{14}-1=16383$个。

可分配的主机个数：$2^{16}-2=65534$个。

B 类 IP 地址的主机范围为：`128.0.0.1~191.255.255.255`。

## 介绍一下 C 类 IP 地址？

C 类 IP 地址的第一二位必须是 1，第三位必须是 0，剩下的 29 位中有 21 位用于网络号，有 8 位用于主机号，个人可以使用。

可分配的网络个数：$2^{21}-1=2097151$个。

可分配的主机个数：$2^8-2=254$个。

C 类 IP 地址的主机范围为：`192.0.0.0~223.255.255.255`。

:::center
![cip.png](https://i.loli.net/2021/08/01/jABfvJSEwQ9ILZ8.png)
:::center

## 介绍一下 D、E 类 IP 地址？

:::center
![oip.png](https://i.loli.net/2021/08/01/6WZasjz1mVKJDqg.png)
:::center

D 类和 E 类地址是没有主机号的，所以不可用于主机 IP，D 类常被用于多播，E 类是预留的分类，暂时未使用。

## 如何快速区别上述五类地址？

看前四位哪一位是 0，它就是哪类地址：

- 第一位是 0 -> A 类地址
- 第二位是 0 -> B 类地址
- ...
- 全都不是 0 -> E 类地址

## IP 分类所导致的问题？

### 同一网络下没有地址划分

比如一个公司使用了 B 类地址，他们可能需要根据生产环境、测试环境、开发环境来划分地址层次，而这种 IP 分类是没有地址层次划分的功能，所以这就缺少地址的灵活性。

### 不能很好的与现实网络匹配

C 类地址能包含的最大主机数量实在太少了，只有 254 个。而 B 类地址能包含的最大主机数量又太多了，6 万多台机器放在一个网络下面，一般的企业基本达不到这个规模，空闲的地址就是浪费。需要通过 CIDR 无分类地址解决。

## 介绍一下 CIDR？

因为 IP 分类存在许多缺点，所以后面提出了无分类地址的方案，即 CIDR。这种方式不再有分类地址的概念，32 比特的 IP 地址被划分为两部分，前面是网络号，后面是主机号。表示形式为` a.b.c.d/x`，其中 /x 表示前 x 位属于网络号，x 的范围是 0 ~ 32，这就使得 IP 地址更加具有灵活性。

比如 `10.100.122.2/24`，这种地址表示形式就是 CIDR，/24 表示前 24 位是网络号，剩余的 8 位是主机号。

:::center
![cidr1.png](https://i.loli.net/2021/08/01/zB5WZC2UN7JHtp6.png)
:::center

还有另一种划分网络号与主机号形式，那就是子网掩码，掩码的意思就是掩盖掉主机号，剩余的就是网络号。将子网掩码和 IP 地址按位计算与，就可得到网络号。

:::center
![cidr2.png](https://i.loli.net/2021/08/01/i4d1QKW2N5uHCPI.png)
:::center

## 怎么进行子网划分？

子网划分实际上是将主机地址分为两个部分：子网网络地址和子网主机地址。形式如下：

:::center
![ip子网划分.png](https://i.loli.net/2021/08/01/nY9Z2RM3GKegEdT.png)
:::

## 哪些地址是私有 IP？

:::center
![ip私有.png](https://i.loli.net/2021/08/01/ynH4sI5iSTzpvDJ.png)
:::
